(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0565":function(e,t,l){"use strict";var a=l("16f0"),s=l.n(a);s.a},"0fba":function(e,t,l){},"16f0":function(e,t,l){},"254c":function(e,t,l){"use strict";var a=l("0fba"),s=l.n(a);s.a},"8b24":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("q-page",{staticClass:"flex flex-center column rolls-page"},[e.rolls.length?l("q-table",{ref:"table",staticClass:"bg-transparent",class:{"has-selected":!!e.selected.length},attrs:{"table-header-style":"height: 50px",columns:e.columns,data:e.rolls,"row-key":function(e){return e.id},selected:e.selected,pagination:{rowsPerPage:0},"hide-pagination":"",separator:"none","sort-method":e.sort},on:{"update:selected":function(t){e.selected=t},"row-click":function(t,l){return e.select(l)}},scopedSlots:e._u([{key:"top",fn:function(){return[l("q-checkbox",{attrs:{color:"grey-8"},model:{value:e.allItemsSelected,callback:function(t){e.allItemsSelected=t},expression:"allItemsSelected"}},[l("span",{staticClass:"q-mx-sm"},[e._v(" Selected "+e._s(e.selected.length)+" item(s). ")])]),l("q-space"),l("q-btn",{attrs:{label:"Remove",color:"negative",flat:"",stretch:""},on:{click:e.removeSelected}})]},proxy:!0},{key:"header-cell-dice",fn:function(t){return[l("q-th",{attrs:{props:t},on:{click:e.clearSort}},[l("q-icon",{attrs:{name:"casino",size:"1.4em"}})],1)]}},{key:"header-cell-valueToHit",fn:function(t){return[l("q-th",{attrs:{props:t},on:{click:e.clearSort}},[l("q-icon",{attrs:{name:"my_location",size:"1.4em"}})],1)]}},{key:"bottom-row",fn:function(){return[l("q-tr",{staticClass:"bottom-row"},[l("q-td",{attrs:{colspan:"100%"}})],1)]},proxy:!0}])}):l("div",{staticClass:"background-dice"}),l("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[l("q-btn",{staticClass:"text-black",attrs:{fab:"",icon:"add",color:"accent"},on:{click:function(t){return e.$refs.addDiceDialog.show()}}})],1),l("add-roll-dialog",{ref:"addDiceDialog"})],1)},s=[],i=(l("4e82"),l("ddb0"),l("ded3")),o=l.n(i),c=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"jump-up","transition-hide":"jump-down"},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[l("q-card",[l("q-form",{ref:"form",attrs:{greedy:!1},on:{submit:function(t){return t.stopPropagation(),e.submit(t)}}},[l("q-toolbar",{staticClass:"bg-dark"},[l("q-btn",{attrs:{icon:"close",flat:"",dense:"",round:""},on:{click:e.cancel}}),l("q-toolbar-title",[l("span",{staticClass:"text-weight-thin"},[e._v("New roll")])]),l("q-btn",{attrs:{label:"add",type:"submit",stretch:"",flat:"",color:"primary"}})],1),l("q-card-section",{staticClass:"q-gutter-md row no-wrap"},[l("q-input",{staticClass:"fit",attrs:{filled:"",type:"number",pattern:"\\d*",rules:[e.isValidating&&e.validateNumber(1,20)],autofocus:""},on:{focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[l("q-icon",{attrs:{name:"casino"}})]},proxy:!0}]),model:{value:e.dice,callback:function(t){e.dice=t},expression:"dice"}}),l("q-input",{staticClass:"fit",attrs:{filled:"",type:"number",pattern:"\\d*",rules:[e.isValidating&&e.validateNumber(1,6)]},on:{focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[l("q-icon",{attrs:{name:"my_location"}})]},proxy:!0}]),model:{value:e.valueToHit,callback:function(t){e.valueToHit=t},expression:"valueToHit"}})],1),l("q-card-section",{staticClass:"q-pt-none q-gutter-md flex column content-start"},[l("q-toggle",{attrs:{label:"Add additional +1 dice and -1 to hit"},model:{value:e.additional,callback:function(t){e.additional=t},expression:"additional"}}),l("q-toggle",{attrs:{label:"Clear existing"},model:{value:e.clear,callback:function(t){e.clear=t},expression:"clear"}})],1)],1)],1)],1)},n=[],r=l("c973"),d=l.n(r),u=l("2f62");const{mapActions:f}=Object(u["a"])("dices");var p={name:"AddRollDialog",data(){return{isVisible:!1,dice:1,valueToHit:3,additional:!1,clear:!1,isValidating:!1}},methods:o()({show(){this.isVisible=!0},cancel(){this.isVisible=!1},submit(){var e=this;return d()((function*(){e.isValidating=!0,yield e.$refs.form.validate();const t=yield e.$refs.form.validate();t&&(e.isVisible=!1,e.addRolls({dice:parseInt(e.dice),valueToHit:parseInt(e.valueToHit),clear:e.clear,additional:e.additional}),e.additional=!1,e.clear=!1,e.isValidating=!1)}))()},validateNumber:(e,t)=>l=>{const a=parseInt(l);return(a>=e||"The value needs to be greater or equal to "+e)&&(a<=t||"The value needs to be less or equal to "+t)}},f(["addRolls"]))},m=p,b=(l("254c"),l("2877")),h=l("24e8"),g=l("f09f"),v=l("0378"),k=l("65c6"),q=l("9c40"),y=l("6ac5"),x=l("a370"),S=l("27f9"),T=l("0016"),Q=l("9564"),w=l("eebe"),C=l.n(w),V=Object(b["a"])(m,c,n,!1,null,null,null),_=V.exports;C()(V,"components",{QDialog:h["a"],QCard:g["a"],QForm:v["a"],QToolbar:k["a"],QBtn:q["a"],QToolbarTitle:y["a"],QCardSection:x["a"],QInput:S["a"],QIcon:T["a"],QToggle:Q["a"]});const{mapGetters:H,mapActions:I}=Object(u["a"])("dices");var R={name:"Index",mounted(){this.load()},computed:o()({columns(){return[{name:"dice",field:"dice",align:"center",classes:"dice-cell cell--sticky-left",headerClasses:"dice-cell cell--sticky-left cell--sticky-top"},{name:"valueToHit",field:"valueToHit",align:"center",classes:"value-to-hit-cell cell--sticky-left-2",headerClasses:"value-to-hit-cell cell--sticky-left-2 cell--sticky-top"},...this.hitRange.map((e,t)=>({name:"chanceToHit."+t,label:e,field:"chanceToHit",align:"right",classes:"hit-cell",headerClasses:"hit-cell cell--sticky-top",sortable:!0,format:e=>e[t]?Math.round(100*e[t])+"%":""}))]},allItemsSelected:{get(){return!!this.allSelected||!!this.selected.length&&null},set(e){e?this.selectAll():this.clearSelection()}},selected:{get(){return this.selectedRolls},set(){}}},H(["hitRange","rolls","allSelected","selectedRolls"])),methods:o()({select(e){this.toggleSelect(e.id)},removeSelected(){this.removeSelected()},sort(e,t,l){const a=l?1:-1,s=e=>t.split(".").reduce((e,t)=>e[t],e);return e.filter(e=>0!==s(e)).sort((e,t)=>(s(e)-s(t))*a)},clearSort(){this.$refs.table.sort()}},I(["load","removeSelected","toggleSelect","clearSelection","selectAll"])),components:{AddRollDialog:_}},A=R,D=(l("0565"),l("9989")),j=l("eaac"),$=l("8f8e"),P=l("2c91"),N=l("357e"),O=l("bd08"),z=l("db86"),B=l("de5e"),E=Object(b["a"])(A,a,s,!1,null,null,null);t["default"]=E.exports;C()(E,"components",{QPage:D["a"],QTable:j["a"],QCheckbox:$["a"],QSpace:P["a"],QBtn:q["a"],QTh:N["a"],QIcon:T["a"],QTr:O["a"],QTd:z["a"],QPageSticky:B["a"]})}}]);